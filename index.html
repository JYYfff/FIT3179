<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Australian Forest Fire Data Visualization</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        /* Australian Forest Fire Data Visualization - Styles */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .main {
            padding: 2rem;
        }

        .chart-section {
            margin-bottom: 3rem;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e1e8ed;
        }

        .chart-wrapper {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            align-items: start;
        }
        .map-layout {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            align-items: flex-start;
        }
        .chart-explanation {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .chart-explanation h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .chart-explanation p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .chart-explanation strong {
            color: #2c3e50;
        }

        .chart-section h2 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-size: 1.6rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .chart-container {
            margin: 1.5rem 0;
            background: #fafbfc;
            border-radius: 10px;
            padding: 1rem;
            border: 1px solid #e1e8ed;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        .footer p {
            margin-bottom: 0.5rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .chart-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .vega-embed {
            border-radius: 10px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üî• Australian Forest Fire Data Visualization</h1>
            <p class="subtitle">Interactive Data Analysis of Forest Fires Across Australian States (2016-2021)</p>
        </div>

        <!-- Main Content -->
        <div class="main">
            
            <!-- Map Visualization -->
            <section class="chart-section">
                <div class="chart-wrapper map-layout">
                    <div class="chart-container">
                        <h2>üó∫Ô∏è Forest Fire Distribution Map</h2>
                        <div id="australia-map"></div>
                    </div>
                    <div class="chart-explanation">
                        <h3>Map Explanation</h3>
                        <p><strong>What it shows:</strong> Geographic distribution of forest fires across Australian states and territories.</p>
                        <p><strong>Color intensity:</strong> Indicates fire intensity percentage (yellow = lower intensity, red = higher intensity)</p>
                        <p><strong>Features:</strong> 
                            - Interactive tooltips with detailed information<br>
                            - Shows actual state boundaries<br>
                            - Data aggregated by state/territory
                        </p>
                        <p><strong>Why it matters:</strong> Helps identify fire-prone regions and understand the spatial patterns of forest fires across Australia's diverse landscape.</p>
                    </div>
                </div>
            </section>

            <!-- Annual Trends -->
            <section class="chart-section">
                <div class="chart-wrapper map-layout">
                    <div class="chart-container">
                        <h2>üìà Annual Fire Trends</h2>
                        <div id="yearly-trend"></div>
                    </div>
                    <div class="chart-explanation">
                        <h3>Trend Analysis</h3>
                        <p><strong>What it shows:</strong> Number of fires by year and type (2016-2021 financial years)</p>
                        <p><strong>Lines:</strong> Each line represents a different fire type</p>
                        <p><strong>Key insights:</strong> 
                            - Shows seasonal variations in fire occurrence<br>
                            - Compares planned vs unplanned fire frequencies<br>
                            - Reveals any long-term trends in fire management
                        </p>
                        <p><strong>Why it matters:</strong> Understanding temporal patterns helps in fire season preparation and resource allocation.</p>
                    </div>
                </div>
            </section>

            <!-- State Comparison -->
            <section class="chart-section">
                <div class="chart-wrapper map-layout">
                    <div class="chart-container">
                        <h2>üèõÔ∏è State-by-State Fire Comparison</h2>
                        <div id="state-comparison"></div>
                    </div>
                    <div class="chart-explanation">
                        <h3>Regional Analysis</h3>
                        <p><strong>What it shows:</strong> Total area burned by state/territory and fire type</p>
                        <p><strong>Bars:</strong> Height represents total hectares burned</p>
                        <p><strong>Colors:</strong> Different fire types within each state</p>
                        <p><strong>Key insights:</strong>
                            - NSW and Victoria show highest fire activity<br>
                            - Planned burns are more common in some states<br>
                            - Regional differences in fire management approaches
                        </p>
                        <p><strong>Why it matters:</strong> Helps identify which regions need more fire management resources and different strategies.</p>
                    </div>
                </div>
            </section>

            <!-- Burn Distribution -->
            <section class="chart-section">
                <div class="chart-wrapper map-layout">
                    <div class="chart-container">
                        <h2>üî• Burn Frequency Distribution</h2>
                        <div id="burn-distribution"></div>
                    </div>
                    <div class="chart-explanation">
                        <h3>Frequency Analysis</h3>
                        <p><strong>What it shows:</strong> How many times forest areas were burned during the period</p>
                        <p><strong>X-axis:</strong> Number of times an area was burned</p>
                        <p><strong>Y-axis:</strong> Frequency or count of such areas</p>
                        <p><strong>Key insights:</strong>
                            - Most areas experience only 1-2 burns<br>
                            - Repeated burning can indicate high-risk zones<br>
                            - Helps identify areas needing prevention focus
                        </p>
                        <p><strong>Why it matters:</strong> Understanding burn frequency helps target fire prevention and forest health management efforts.</p>
                    </div>
                </div>
            </section>

            <!-- Tenure Analysis -->
            <section class="chart-section">
                <div class="chart-wrapper">
                    <div class="chart-container">
                        <h2>üå≥ Forest Tenure Analysis</h2>
                        <div id="tenure-analysis"></div>
                    </div>
                    <div class="chart-explanation">
                        <h3>Land Type Analysis</h3>
                        <p><strong>What it shows:</strong> Distribution of fires across different land tenure types</p>
                        <p><strong>Segments:</strong> Each pie segment represents a tenure type</p>
                        <p><strong>Tenure types:</strong>
                            - NPW: National Parks and Wildlife<br>
                            - SF: State Forests<br>
                            - LEASE: Leased lands<br>
                            - MUF: Multiple Use Forests<br>
                            - SP: Special Purposes
                        </p>
                        <p><strong>Why it matters:</strong> Different land tenures require different fire management strategies and responsibilities.</p>
                    </div>
                </div>
            </section>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Australian Forest Fire Data Visualization</p>
            <p>Data Source: Australian Forest Fire Dataset (2016-2021)</p>
            <p>Created with Vega-Lite</p>
        </div>
    </div>

    <script>
        // All Vega-Lite specifications embedded directly
        
        // Map specification with data from JSON files
        const mapSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 600,
            "height": 400,
            "title": "Australian Forest Fire Distribution by State",
            "subtitle": "Fire Intensity (%) = Burned area √∑ Total forest area per state (2016‚Äì2021)"
            "data": {
                "url": "FIT3179/map_data.json"
            },
            "transform": [
                {
                    "lookup": "id",
                    "from": {
                        "data": {
                            "url": "FIT3179/australian-states.json",
                            "format": {
                                "type": "json",
                                "property": "features"
                            }
                        },
                        "key": "id"
                    },
                    "as": "geo"
                }
            ],
            "projection": {
                "type": "mercator"
            },
            "mark": "geoshape",
            "encoding": {
                "shape": {
                    "field": "geo",
                    "type": "geojson"
                },
                "color": {
                    "field": "pct",
                    "type": "quantitative",
                    "scale": {
                        "range": ["#ffeb3b", "#ff9800", "#f44336"]
                    },
                    "title": "Fire Intensity (%)",
                    "legend": { "format": ".0%" }
                },
                "tooltip": [
                    {"field": "STATE_NAME", "type": "nominal", "title": "State/Territory"},
                    {"field": "fires", "type": "quantitative", "format": ",.0f", "title": "Total Fires"},
                    {"field": "area", "type": "quantitative", "format": ",.0f", "title": "Area Burned (hectares)"},
                    {"field": "pct", "type": "quantitative", "format": ".1%", "title": "Fire Intensity"}
                ]
            }
        };

        // Yearly trend specification with data from JSON file
        const yearlyTrendSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Australian Forest Fire Annual Trends (2016-2021)",
            "width": 600,
            "height": 300,
            "data": {
                "url": "FIT3179/yearly_stats.json"
            },
            "mark": {"type": "line", "point": true},
            "encoding": {
                "x": {"field": "year", "type": "ordinal", "title": "Fiscal Year"},
                "y": {"field": "fire_count", "type": "quantitative", "title": "Fire Count"},
                "color": {
                    "field": "fire_type",
                    "type": "nominal",
                    "title": "Fire Type",
                    "scale": {
                        "domain": ["planned", "unplanned", "Unclassified / Not recorded"],
                        "range": ["#2E8B57", "#DC143C", "#D3D3D3"]
                    }
                }
            }
        },
        {
         "mark": {"type": "text", "dy": -8, "fontSize": 10},
        "encoding": {
        "x": {"field": "year", "type": "ordinal"},
        "y": {"field": "fire_count", "type": "quantitative"},
        "color": {"field": "fire_type", "type": "nominal", "legend": null},
        "text": {"field": "fire_count", "type": "quantitative", "format": "~s"}
        };

        // State comparison specification with data from JSON file
        const stateComparisonSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Forest Fire Area Comparison by State/Territory",
            "width": 600,
            "height": 400,
            "data": {
                "url": "FIT3179/state_stats.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {"field": "state", "type": "nominal", "title": "State/Territory"},
                "y": {"field": "total_area_hectares", "type": "quantitative", "title": "Burned Area (hectares)"},
                "color": {
                    "field": "fire_type",
                    "type": "nominal",
                    "title": "Fire Type",
                    "scale": {
                        "domain": ["planned", "unplanned", "none"],
                        "range": ["#2E8B57", "#DC143C", "#D3D3D3"]
                    }
                }
            }
        };

        // Burn distribution specification with data from JSON file
        const burnDistributionSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Forest Burn Frequency Distribution",
            "width": 600,
            "height": 300,
            "data": {
                "url": "FIT3179/burn_distribution.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {"field": "burn_count", "type": "ordinal", "title": "Burn Count"},
                "y": {"field": "frequency", "type": "quantitative", "title": "Frequency"},
                "color": {
                    "field": "fire_type",
                    "type": "nominal",
                    "title": "Fire Type",
                    "scale": {
                        "domain": ["planned", "unplanned", "Unclassified / Not recorded"],
                        "range": ["#2E8B57", "#DC143C", "#D3D3D3"]
                    }
                }
            }
        };

        // Tenure analysis specification with data from JSON file
        const tenureAnalysisSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Forest Fire Distribution by Land Tenure Type",
            "width": 400,
            "height": 400,
            "data": {
                "url": "FIT3179/tenure_stats.json"
            },
            "mark": "arc",
            "encoding": {
                "theta": {"field": "total_area", "type": "quantitative"},
                "color": {
                    "field": "tenure",
                    "type": "nominal",
                    "title": "Tenure Type"
                },
                "tooltip": [
                    {"field": "tenure", "type": "nominal", "title": "Tenure Type"},
                    {"field": "fire_type", "type": "nominal", "title": "Fire Type"},
                    {"field": "total_area", "type": "quantitative", "title": "Total Area (hectares)", "format": ",.0f"}
                ]
            }
        },
        {
      "mark": {"type": "text", "radius": 180, "fontSize": 11, "color": "white"},
      "encoding": {
        "theta": {"field": "total_area", "type": "quantitative"},
        "text": {"field": "total_area", "type": "quantitative", "format": "~s"}
        }
    };

        // Embed all charts
        vegaEmbed('#australia-map', mapSpec);
        vegaEmbed('#yearly-trend', yearlyTrendSpec);
        vegaEmbed('#state-comparison', stateComparisonSpec);
        vegaEmbed('#burn-distribution', burnDistributionSpec);
        vegaEmbed('#tenure-analysis', tenureAnalysisSpec);
    </script>
</body>
</html>
